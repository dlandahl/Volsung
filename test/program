

infrared_noise (1, 1) [
	frequency: in(0), _0, 5
	
    osc: noise~
    filters: [5] filter~

	frequency <> filters(1)
    osc(0) -> filters[0](0)
    filters(0) --> filters(0)

	filters[-1](0) -> *100 -> out(0)
]


tone: osc~
noise: infrared_noise~ 5

file: file~ output.raw

noise(0) -> tone(0)
tone(0) -> file(0)

=========================================

mk noise~ osc

mk filter~ a 5
mk filter~ b 5
mk filter~ c 5
mk filter~ d 5
mk filter~ e 5

mk mult~ gain 100000
mk add~ offset 500

ct osc(0) -> a(0)
ct a(0) -> b(0)
ct b(0) -> c(0)
ct c(0) -> d(0)
ct d(0) -> e(0)

ct e(0) -> gain(0)
ct gain(0) -> offset(0)

mk osc~ tone
ct offset(0) -> tone(0)

mk file~ file output.raw
ct tone(0) -> file(0)

=========================================

chord: [4] saw~ 100*n

N: 5

carrier_bands: [N] bpf~ 100*n^2, 4

amps: [N] mult~

chord(0)         x> carrier_bands(0)
carrier_bands(0) => amps(0)


mod_bands: [N] bpf~ 100*n^2, 4
mod_followers: [N] env~ 20ms, 20ms

mod_bands(0) => mod_followers(0)
mod_followers(0) => amps(1)

input(0) <> mod_bands(0)
amps(0) >> output(0)
